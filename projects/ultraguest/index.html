<!DOCTYPE html>
<html lang="en">
<head>
<link rel="stylesheet" href="https://botoxparty.github.io/XP.css/98.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>why are u here</title>
    <style>
    @font-face {
        font-family: handwritten;
        src: url(https://files.catbox.moe/n565jq.ttf);
    }

    body {
        font-family: 'Tahoma', sans-serif;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        margin: 0;
        padding: 0;
        cursor: url("https://files.catbox.moe/id4qoc.png"), auto;
        animation: cursor 0.3s linear infinite;
    }

    .content-wrapper {
        display: flex;
        align-items: flex-start;
    }

    .custom-container {
        width: 380px;
        height: 440px;
        background-image: url('https://files.catbox.moe/lsyin3.png');
        background-size: fit;
        background-repeat: no-repeat;
        position: relative;
    }

    .cbox {
        position: absolute;
        top: 65px;
        left: 2px;
        width: 438px;
        height: 380px;
    }


    /* music player style */
    .music-player {
        margin-left: 20px;
        width: 400px;
        border: 1px solid #003366;
        background-color: #bfbfbf;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
    }

    .title-bar {
        display: flex;
        justify-content: space-between;
        align-items: center;
        background-color: #0078d7;
        color: #fff;
        padding: 5px 10px;
    }

    .title-bar .title {
        font-weight: bold;
    }

    .title-bar .controls button {
        background: none;
        border: none;
        color: #fff;
        font-size: 1em;
        cursor: pointer;
        padding: 0 5px;
    }

    .content {
        padding: 10px;
    }

    .player {
        background-color: #2a2a2a;
        color: #fff;
        padding: 10px;
        margin-bottom: 10px;
    }

    .player .song-info {
        font-size: 1.2em;
        margin-bottom: 10px;
        transition: opacity 0.5s ease;
    }

    .song-info.fade-out {
        opacity: 0;
    }

    .player-controls {
        display: flex;
        align-items: center;
        margin-bottom: 10px;
    }

    .player-controls button {
        background-color: #555;
        border: none;
        color: #fff;
        padding: 5px 10px;
        margin-right: 5px;
        cursor: pointer;
    }

    .player-controls input[type="range"] {
        margin-right: 5px;
        cursor: pointer;
    }

.volume-container {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-left: auto;
}


    .playlist {
        max-height: 230px;
        overflow-y: auto;
        border: 1px solid #2a2a2a;
        background-color: #bfbfbf;
    }

    .song {
        padding: 10px;
        border-bottom: 1px solid #929292;
        cursor: pointer;
        transition: background-color 0.5s ease, color 0.5s ease;
    }

    .song span {
        color: black;
    }
    .song {
        color: #06329e;
    }

    .song:hover,
    .song.active {
        background-color: rgba(46, 113, 255, 0.8);
        color: #000;
        font-weight: bold;
    }

    .song.active span,
    .song:hover span {
        color: #fff;
        font-weight: normal;
    }

    @keyframes cursor {
        0% {
            cursor: url("https://files.catbox.moe/7xm71l.png"), auto;
        }
        100% {
            cursor: url("https://files.catbox.moe/id4qoc.png"), auto;
        }
    }

    .music-player.minimized .content {
        display: none;
    }

    .message {
        padding: 10px;
        background-color: #bfbfbf;
        text-align: center;
        color: #333;
        display: none; 
    }

    .music-player.minimized .message {
        display: block; 
    }

    /* prevent style override for 98 */
    .music-player button {
        background-color: #555; 
        color: #fff;
        border: none; 
        border-radius: 3px;
    }

    .music-player button:hover {
        background-color: #777; 
    }

    .music-player .title-bar {
        background-color: #0078d7; 
    }

    .music-player .title-bar .title-bar-controls button {
        color: black;
        background-color: #c0c0c0;
        margin-right: 1.5px;
    }

    .music-player .playlist::-webkit-scrollbar {
        width: 12px;
    }

    .music-player .playlist::-webkit-scrollbar-thumb {
        background-color: #999;
        border-radius: 10px;
    }

    .music-player .playlist::-webkit-scrollbar-track {
        background-color: #bfbfbf;
    }

        /* message gridbox */
        .gridbox {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            border: 1px solid black;
        }

        /* specific to images inside .gridbox */
        .gridbox img {
            max-width: 100%;
            height: auto;
        }

        .text-section {
            padding: 10px;
            text-align: left;
        }

        /* emojis */
        .text-section img {
            width: auto;
            height: auto; 
        }

</style>

</head> 
<body>
    <div class="content-wrapper">
        <div class="custom-container">
            <div class="cbox">
                <iframe src="https://www3.cbox.ws/box/?boxid=3538381&boxtag=Ik5LXr" width="375" height="333" allowtransparency="yes" allow="autoplay" frameborder="0" marginheight="0" marginwidth="0" scrolling="auto"></iframe>
            </div>
        </div>
       <div class="music-player">
    <div class="title-bar">
        <div class="title">visitor's top hits (click tabs for info)</div>
        <div class="title-bar-controls">
            <button aria-label="Minimize" onclick="minimize()"></button>
            <button aria-label="Maximize" onclick="maximize()"></button>
            <button aria-label="Close" onclick="close()"></button>
        </div>
    </div>
    <div class="content">
        <div class="player">
            <div class="song-info">loading playlist...</div>
            <div class="player-controls">
                <button onclick="prevSong()">&#9664;</button>
                <button onclick="playPause()">&#9654;</button>
                <button onclick="nextSong()">&#9654;&#9654;</button>
                <input type="range" id="progress" value="0" max="100">
                <div class="volume-container">
                    <input type="range" id="volume" value="100" max="100">
                </div>
            </div>
            <div id="time">0:00 / 0:00</div>
        </div>
        <div class="playlist"></div>
    </div>
    <div class="message">
          <div class="gridbox" style="margin-bottom: 5px;">
                            <img src="https://i.pinimg.com/564x/69/6c/8f/696c8f09c35345d2c359eed89b315df0.jpg">
                            <div class="text-section">
                                <p>be civil. that is all i ask <img src="https://i.imgur.com/ALAAFn1.gif"></p>
                                <p>if you want to recommend a song, use the <a href="https://www.ultraguest.com/sign/1717388758" style="color: #06329e">guestbook</a> not the cbox.<br>
                                i use my chatbox (cbox) as a live groupchat and you should too!<br>
                                <p>layout coded by me. <a href="https://botoxparty.github.io/XP.css/" style="color: #06329e">scrollbar/buttons</a></p>
                            </div>
                        </div>
   </div>
    <audio id="audio-player"></audio>
</div>

    </div>
    <script>
const songs = [
    { title: 'Carry On Wayward Son', artist: 'Kansas', url: 'songs/COWS.mp3' },
    { title: 'Oleander', artist: 'Mother Mother', url: 'songs/Oleander.mp3' },
    { title: 'song of worship (prod. VELVET)', artist: 'aril is', url: 'songs/song of worship.mp3' },
    { title: 'The Catalyst', artist: 'Linkin Park', url: 'songs/The Catalyst.mp3' },
    { title: 'Twist the Knife', artist: 'Chromatics', url: 'songs/Twist the Knife.mp3' },
    { title: 'Take Me To Church', artist: 'Hozier', url: 'songs/Take Me To Church.mp3' },
    { title: 'theres a halo around the moon', artist: 'Black Dresses', url: 'songs/TAHAM.mp3' },
    { title: 'Insomnia', artist: 'Niil', url: 'songs/Insomnia.mp3' },
    { title: 'Starman', artist: 'David Bowie', url: 'songs/Starman.mp3' },
    { title: 'Angel Breaking', artist: 'Needy Streamer Overload', url: 'songs/Angel Breaking.mp3' },
    { title: 'Sgt. Pepper’s Lonely Hearts Club Band', artist: 'The Beatles', url: 'songs/SGT. Pepper.mp3' },
    { title: 'Nabokov', artist: 'Fontaines DC', url: 'songs/Nabokov.mp3' },
    { title: 'Good Luck, Babe!', artist: 'Chappell Roan', url: 'songs/Good Luck Babe.mp3' },
    { title: 'YOUR HEAD’S ON FIRE', artist: 'Louie Zong', url: 'songs/YOUR HEADS ON FIRE.mp3' },
    { title: '20 Ways To Kill Someone', artist: 'Phosgore', url: 'songs/20 Ways to Kill Someone.mp3' },
    { title:'Anal Grenade Insertion', artist: 'GUTFED', url: 'songs/Anal Grenade Insertion.mp3'},
    { title:'Forced Battle', artist: 'SMT III: Nocturne', url: 'songs/Forced Battle.mp3'},
    { title:'Dive', artist: 'Nirvana', url: 'songs/Dive.mp3'},
    { title:'Mascara', artist: 'Deftones', url: 'songs/Mascara.mp3'},
    { title:'Completely, Sweetly', artist: 'The Dead South', url: 'songs/Completely Sweetly.mp3'},
    { title:'Only A Lad', artist: 'Oingo Boingo', url: 'songs/Only A Lad.mp3'},
    { title:'War?', artist: 'System of a Down', url: 'songs/War.mp3'},
    { title:'オトノケ (Otonoke)', artist: 'Creepy Nuts', url: 'songs/Otonoke.mp3'},
    { title:'Concrete Over Water', artist: 'Jockstrap', url: 'songs/Concrete Over Water.mp3'},
    { title:'I’m Done Being In Love', artist: 'Gezebelle Gaburgably', url: 'songs/Im Done Being In Love.mp3'},
    { title:'バケモノ信者 (Monster Believer)', artist: 'Maiki-P', url: 'songs/Monster Believer.mp3'},
    { title:'RABENVATER', artist: 'TIEFBASSKOMMANDO', url: 'songs/RABENVATER.mp3'},
];

const playlistElement = document.querySelector('.playlist');
const songInfoElement = document.querySelector('.song-info');
const timeElement = document.getElementById('time');
const progressElement = document.getElementById('progress');
const volumeElement = document.getElementById('volume');
const audioPlayer = document.getElementById('audio-player');
const playPauseButton = document.querySelector('.player-controls button:nth-child(2)');
const musicPlayerElement = document.querySelector('.music-player');
let currentSongIndex = 0;
let isPlaying = false;

function loadSongs() {
    songs.forEach((song, index) => {
        const songElement = document.createElement('div');
        songElement.classList.add('song');
        songElement.innerHTML = `${song.title} <span>${song.artist}</span>`;
        songElement.onclick = () => selectSong(index);
        playlistElement.appendChild(songElement);
    });

    const savedSongIndex = localStorage.getItem('currentSongIndex');
    if (savedSongIndex !== null) {
        currentSongIndex = parseInt(savedSongIndex, 10);
    }

    const savedVolume = localStorage.getItem('volume');
    if (savedVolume !== null) {
        audioPlayer.volume = parseFloat(savedVolume);
        volumeElement.value = audioPlayer.volume * 100;
    } else {
        audioPlayer.volume = 0.5;
        volumeElement.value = 50;
    }

    const savedTime = localStorage.getItem('currentTime');
    const savedSongIndexForTime = localStorage.getItem('currentSongIndexForTime');
    if (savedTime !== null && savedSongIndexForTime == currentSongIndex) {
        audioPlayer.currentTime = parseFloat(savedTime);
    }

    selectSong(currentSongIndex);
    updateActiveSong();

    // Autoplay the current song when the page loads
    playSong();
}


function selectSong(index) {
    currentSongIndex = index;
    localStorage.setItem('currentSongIndex', currentSongIndex);
    localStorage.removeItem('currentTime');
    localStorage.setItem('currentSongIndexForTime', currentSongIndex);
    playSong();
    updateActiveSong();
}

function updateSongInfo() {
    const song = songs[currentSongIndex];


    songInfoElement.classList.add('fade-out');


    setTimeout(() => {

        songInfoElement.textContent = `${song.title} - ${song.artist}`;


        songInfoElement.classList.remove('fade-out');
        void songInfoElement.offsetWidth; // Triggers reflow


        songInfoElement.classList.add('fade-in');
    }, 500); 
}

function playPause() {
    if (isPlaying) {
        audioPlayer.pause();
    } else {
        audioPlayer.play();
    }
    isPlaying = !isPlaying;
    updatePlayPauseButton();
}

function playSong() {
    updateSongInfo();
    const song = songs[currentSongIndex];
    audioPlayer.src = song.url;

    const savedTime = localStorage.getItem('currentTime');
    const savedSongIndexForTime = localStorage.getItem('currentSongIndexForTime');
    if (savedTime !== null && savedSongIndexForTime == currentSongIndex) {
        audioPlayer.currentTime = parseFloat(savedTime);
    }

    // Autoplay logic with delay to prevent autoplay blocking
    setTimeout(() => {
        audioPlayer.play().catch((error) => {
            console.log("Autoplay was prevented. User interaction required.");
        });
    }, 500); // Optional: Adjust delay as necessary

    isPlaying = true;
    updatePlayPauseButton();
}


function updatePlayPauseButton() {
    if (isPlaying) {
        playPauseButton.innerHTML = '&#10074;&#10074;'; // Pause icon
    } else {
        playPauseButton.innerHTML = '&#9654;'; // Play icon
    }
}

function nextSong() {
    currentSongIndex = (currentSongIndex + 1) % songs.length;
    localStorage.setItem('currentSongIndex', currentSongIndex);
    localStorage.removeItem('currentTime');
    localStorage.setItem('currentSongIndexForTime', currentSongIndex);
    playSong();
    updateActiveSong();
}

function prevSong() {
    currentSongIndex = (currentSongIndex - 1 + songs.length) % songs.length;
    localStorage.setItem('currentSongIndex', currentSongIndex);
    localStorage.removeItem('currentTime');
    localStorage.setItem('currentSongIndexForTime', currentSongIndex);
    playSong();
    updateActiveSong();
}

function updateActiveSong() {
    document.querySelectorAll('.song').forEach((element, index) => {
        element.classList.toggle('active', index === currentSongIndex);
    });
}

audioPlayer.ontimeupdate = () => {
    const progress = (audioPlayer.currentTime / audioPlayer.duration) * 100;
    progressElement.value = progress || 0;
    timeElement.textContent = `${formatTime(audioPlayer.currentTime)} / ${formatTime(audioPlayer.duration)}`;

    // Save the current time to localStorage
    localStorage.setItem('currentTime', audioPlayer.currentTime);
};

audioPlayer.onended = nextSong;

progressElement.oninput = (e) => {
    const seekTime = (e.target.value / 100) * audioPlayer.duration;
    audioPlayer.currentTime = seekTime;
    localStorage.setItem('currentTime', seekTime);
};

volumeElement.oninput = (e) => {
    audioPlayer.volume = e.target.value / 100;
    localStorage.setItem('volume', audioPlayer.volume);
};

function formatTime(time) {
    const minutes = Math.floor(time / 60);
    const seconds = Math.floor(time % 60);
    return `${minutes}:${seconds.toString().padStart(2, '0')}`;
}

function minimize() {
    musicPlayerElement.classList.add('minimized');
}

function maximize() {
    musicPlayerElement.classList.remove('minimized');
}

function close() {
    musicPlayerElement.style.display = 'none';
}

loadSongs();



    </script>
</body>
</html>
